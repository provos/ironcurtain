{
  "generatedAt": "2026-02-28T01:50:08.635Z",
  "constitutionHash": "8e2f1144f44b0f864e70b161e6abf898bf7ac7540e2aeb6df11abbbbfcb9c34c",
  "inputHash": "97a4159c0149574f357fdac5b8046d3ea51006a4e8a3c5f1a3cf0ab3afdcd6e6",
  "rules": [
    {
      "name": "allow-downloads-read",
      "description": "Allow reading files within the Downloads folder.",
      "principle": "The agent is allowed to read, write and delete content in the Downloads folder.",
      "if": {
        "paths": {
          "roles": [
            "read-path"
          ],
          "within": "/mnt/c/Users/provo/Downloads"
        }
      },
      "then": "allow",
      "reason": "Policy explicitly permits reading in the Downloads folder."
    },
    {
      "name": "allow-downloads-write",
      "description": "Allow writing files within the Downloads folder.",
      "principle": "The agent is allowed to read, write and delete content in the Downloads folder.",
      "if": {
        "paths": {
          "roles": [
            "write-path"
          ],
          "within": "/mnt/c/Users/provo/Downloads"
        }
      },
      "then": "allow",
      "reason": "Policy explicitly permits writing in the Downloads folder."
    },
    {
      "name": "allow-downloads-delete",
      "description": "Allow deleting files within the Downloads folder.",
      "principle": "The agent is allowed to read, write and delete content in the Downloads folder.",
      "if": {
        "paths": {
          "roles": [
            "delete-path"
          ],
          "within": "/mnt/c/Users/provo/Downloads"
        }
      },
      "then": "allow",
      "reason": "Policy explicitly permits deletion in the Downloads folder."
    },
    {
      "name": "allow-documents-read",
      "description": "Allow reading documents in the Users document folder.",
      "principle": "The agent is allowed to read documents in the Users document folder.",
      "if": {
        "paths": {
          "roles": [
            "read-path"
          ],
          "within": "/home/provos/Documents"
        }
      },
      "then": "allow",
      "reason": "Policy explicitly permits reading in the Documents folder."
    },
    {
      "name": "escalate-documents-write",
      "description": "Escalate write operations targeting the Documents folder since only reads are permitted there.",
      "principle": "Least privilege: The agent may only access resources explicitly permitted by policy.",
      "if": {
        "paths": {
          "roles": [
            "write-path"
          ],
          "within": "/home/provos/Documents"
        }
      },
      "then": "escalate",
      "reason": "Only reads are explicitly permitted in the Documents folder; writes require human approval."
    },
    {
      "name": "escalate-move-with-delete-outside-sandbox",
      "description": "Escalate move operations whose source (delete-path) is outside the Downloads folder, since deletes outside permitted areas require human oversight.",
      "principle": "No destruction: Delete operations outside the sandbox are never permitted unless explicitly granted.",
      "if": {
        "roles": [
          "delete-path"
        ],
        "server": [
          "filesystem"
        ]
      },
      "then": "escalate",
      "reason": "Any delete-path argument outside the sandbox or Downloads folder requires human approval before proceeding."
    },
    {
      "name": "escalate-filesystem-write-outside-permitted",
      "description": "Escalate filesystem writes outside explicitly permitted directories.",
      "principle": "Least privilege: The agent may only access resources explicitly permitted by policy.",
      "if": {
        "roles": [
          "write-path"
        ],
        "server": [
          "filesystem"
        ]
      },
      "then": "escalate",
      "reason": "Writes outside the sandbox, Downloads, or Documents require human approval."
    },
    {
      "name": "allow-git-local-read",
      "description": "Allow local git read operations (log, status, diff, show, blame, etc.) within any path.",
      "principle": "The agent is allowed to perform all local read and write git operations within the sandbox.",
      "if": {
        "tool": [
          "git_status",
          "git_log",
          "git_diff",
          "git_show",
          "git_blame",
          "git_reflog",
          "git_changelog_analyze",
          "git_wrapup_instructions",
          "git_clear_working_dir"
        ]
      },
      "then": "allow",
      "reason": "Read-only git operations are explicitly permitted as local operations."
    },
    {
      "name": "allow-git-set-working-dir",
      "description": "Allow setting the git working directory.",
      "principle": "The agent is allowed to perform all local read and write git operations within the sandbox.",
      "if": {
        "tool": [
          "git_set_working_dir"
        ]
      },
      "then": "allow",
      "reason": "Setting the working directory is a local read operation with no side effects outside the sandbox."
    },
    {
      "name": "allow-git-local-write-history",
      "description": "Allow local git write-history operations (commit, merge, rebase, reset, checkout, cherry-pick, stash, tag, branch, add, init, worktree) within the sandbox.",
      "principle": "The agent is allowed to perform all local read and write git operations within the sandbox.",
      "if": {
        "tool": [
          "git_add",
          "git_commit",
          "git_merge",
          "git_rebase",
          "git_reset",
          "git_checkout",
          "git_cherry_pick",
          "git_stash",
          "git_tag",
          "git_branch",
          "git_init",
          "git_worktree",
          "git_remote"
        ]
      },
      "then": "allow",
      "reason": "Local git write operations are explicitly permitted within the sandbox."
    },
    {
      "name": "allow-git-clean-within-sandbox",
      "description": "Allow git clean operations (removing untracked files) within the sandbox.",
      "principle": "The agent is allowed to perform all local read and write git operations within the sandbox.",
      "if": {
        "tool": [
          "git_clean"
        ]
      },
      "then": "allow",
      "reason": "Git clean is a local operation permitted within the sandbox; sandbox containment invariant ensures it stays within bounds."
    },
    {
      "name": "escalate-write-history-outside-sandbox",
      "description": "Escalate git history-modifying operations when the repository path is outside the sandbox.",
      "principle": "Human oversight: Operations outside the sandbox require explicit human approval.",
      "if": {
        "roles": [
          "write-history"
        ]
      },
      "then": "escalate",
      "reason": "Git operations that modify history outside the sandbox require human approval."
    },
    {
      "name": "escalate-delete-history-outside-sandbox",
      "description": "Escalate git ref-deletion operations when the repository path is outside the sandbox.",
      "principle": "Human oversight: Operations outside the sandbox require explicit human approval.",
      "if": {
        "roles": [
          "delete-history"
        ]
      },
      "then": "escalate",
      "reason": "Git operations that delete refs outside the sandbox require human approval."
    },
    {
      "name": "escalate-git-push",
      "description": "Escalate git push operations as they interact with remote repositories.",
      "principle": "The agent must ask for human approval for all other git operations.",
      "if": {
        "tool": [
          "git_push"
        ]
      },
      "then": "escalate",
      "reason": "Git push is a remote operation that requires explicit human approval."
    },
    {
      "name": "escalate-git-pull",
      "description": "Escalate git pull operations as they interact with remote repositories.",
      "principle": "The agent must ask for human approval for all other git operations.",
      "if": {
        "tool": [
          "git_pull"
        ]
      },
      "then": "escalate",
      "reason": "Git pull is a remote operation that requires explicit human approval."
    },
    {
      "name": "escalate-git-fetch",
      "description": "Escalate git fetch operations as they interact with remote repositories.",
      "principle": "The agent must ask for human approval for all other git operations.",
      "if": {
        "tool": [
          "git_fetch"
        ]
      },
      "then": "escalate",
      "reason": "Git fetch is a remote operation that requires explicit human approval."
    },
    {
      "name": "escalate-git-clone",
      "description": "Escalate git clone operations as they interact with remote repositories.",
      "principle": "The agent must ask for human approval for all other git operations.",
      "if": {
        "tool": [
          "git_clone"
        ]
      },
      "then": "escalate",
      "reason": "Git clone is a remote operation that requires explicit human approval."
    },
    {
      "name": "allow-web-search",
      "description": "Allow web search operations.",
      "principle": "The agent may perform web searches to find information.",
      "if": {
        "tool": [
          "web_search"
        ]
      },
      "then": "allow",
      "reason": "Web searches are explicitly permitted by policy."
    },
    {
      "name": "allow-fetch-news-sites",
      "description": "Allow fetching content from popular news sites.",
      "principle": "The agent may fetch web content from popular news sites.",
      "if": {
        "tool": [
          "http_fetch"
        ],
        "domains": {
          "roles": [
            "fetch-url"
          ],
          "allowed": [
            "@popular-news-sites"
          ]
        }
      },
      "then": "allow",
      "reason": "Fetching from popular news sites is explicitly permitted."
    },
    {
      "name": "allow-fetch-development-sites",
      "description": "Allow fetching content from popular development sites.",
      "principle": "The agent may fetch web content from popular development sites.",
      "if": {
        "tool": [
          "http_fetch"
        ],
        "domains": {
          "roles": [
            "fetch-url"
          ],
          "allowed": [
            "@popular-development-sites"
          ]
        }
      },
      "then": "allow",
      "reason": "Fetching from popular development sites is explicitly permitted."
    },
    {
      "name": "escalate-fetch-other-urls",
      "description": "Escalate HTTP fetch requests to domains not on the approved lists.",
      "principle": "Least privilege: The agent may only access resources explicitly permitted by policy.",
      "if": {
        "tool": [
          "http_fetch"
        ]
      },
      "then": "escalate",
      "reason": "Fetching from non-approved domains requires human approval."
    },
    {
      "name": "allow-github-read",
      "description": "Allow read-only GitHub operations without human approval.",
      "principle": "The agent may freely list, search, and read GitHub resources without human approval.",
      "if": {
        "tool": [
          "get_commit",
          "get_file_contents",
          "get_label",
          "get_latest_release",
          "get_me",
          "get_release_by_tag",
          "get_tag",
          "get_team_members",
          "get_teams",
          "issue_read",
          "list_branches",
          "list_commits",
          "list_issue_types",
          "list_issues",
          "list_pull_requests",
          "list_releases",
          "list_tags",
          "pull_request_read",
          "search_code",
          "search_issues",
          "search_pull_requests",
          "search_repositories",
          "search_users"
        ]
      },
      "then": "allow",
      "reason": "Read-only GitHub operations are explicitly permitted without human approval."
    },
    {
      "name": "escalate-github-write",
      "description": "Escalate GitHub mutation operations that create, update, close, or delete resources.",
      "principle": "Creating, updating, closing, or deleting GitHub resources requires human approval.",
      "if": {
        "tool": [
          "add_comment_to_pending_review",
          "add_issue_comment",
          "add_reply_to_pull_request_comment",
          "assign_copilot_to_issue",
          "create_branch",
          "create_or_update_file",
          "create_pull_request",
          "create_repository",
          "delete_file",
          "fork_repository",
          "issue_write",
          "merge_pull_request",
          "pull_request_review_write",
          "push_files",
          "request_copilot_review",
          "sub_issue_write",
          "update_pull_request",
          "update_pull_request_branch"
        ]
      },
      "then": "escalate",
      "reason": "GitHub write/mutation operations require explicit human approval per policy."
    }
  ],
  "listDefinitions": [
    {
      "name": "popular-news-sites",
      "type": "domains",
      "principle": "The agent may fetch web content from popular news sites.",
      "generationPrompt": "List the domains of approximately 50 popular and widely-recognized news websites, including major international outlets, national newspapers, wire services, and digital-native news organizations (e.g., bbc.com, nytimes.com, reuters.com, theguardian.com, apnews.com, cnn.com, washingtonpost.com, etc.).",
      "requiresMcp": false
    },
    {
      "name": "popular-development-sites",
      "type": "domains",
      "principle": "The agent may fetch web content from popular development sites.",
      "generationPrompt": "List the domains of approximately 50 popular software development websites and resources, including documentation hosts, package registries, developer communities, code hosting platforms, and technical reference sites (e.g., github.com, stackoverflow.com, developer.mozilla.org, docs.python.org, npmjs.com, pypi.org, rust-lang.org, golang.org, docs.microsoft.com, kubernetes.io, etc.).",
      "requiresMcp": false
    }
  ]
}
